<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§»åŠ¨ç«¯ä¾§è¾¹æ æµ‹è¯•</title>
    <link rel="stylesheet" href="static/css/nav.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="static/js/jquery-1.11.1.min.js"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            font-family: Arial, sans-serif; 
            background: #f5f5f5;
        }
        .test-header {
            background: #007bff;
            color: white;
            padding: 10px;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 2000;
            font-size: 14px;
        }
        .test-content { 
            padding: 20px; 
            margin-top: 50px;
            background: white;
            min-height: calc(100vh - 50px);
        }
        .status-panel {
            background: #e9ecef;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .test-buttons {
            margin: 20px 0;
        }
        .test-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        .test-btn:hover {
            background: #218838;
        }
        .debug-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body class="page-body">
    <div class="test-header">
        ç§»åŠ¨ç«¯ä¾§è¾¹æ æµ‹è¯• - è¯·åœ¨ç§»åŠ¨è®¾å¤‡æˆ–å¼€å‘è€…å·¥å…·ç§»åŠ¨è§†å›¾ä¸­æµ‹è¯•
    </div>

    <div class="page-container">
        <!-- ç§»åŠ¨ç«¯èƒŒæ™¯é®ç½© -->
        <div class="mobile-menu-backdrop"></div>
        
        <!-- ä¾§è¾¹æ èœå• -->
        <div class="sidebar-menu toggle-others fixed">
            <div class="sidebar-menu-inner">
                <header class="logo-env">
                    <div class="logo">
                        <a href="#" class="logo-expanded">
                            <span style="color: #fff;">ğŸ§ª æµ‹è¯•ç«™ç‚¹</span>
                        </a>
                        <a href="#" class="logo-collapsed">
                            <span style="color: #fff;">ğŸ§ª</span>
                        </a>
                    </div>
                    <!-- ç§»åŠ¨ç«¯èœå•åˆ‡æ¢æŒ‰é’® -->
                    <div class="mobile-menu-toggle visible-xs">
                        <a href="#" data-toggle="mobile-menu">
                            <i class="fa fa-bars"></i>
                        </a>
                    </div>
                </header>
                <!-- ä¸»èœå•åˆ—è¡¨ -->
                <ul id="main-menu" class="main-menu">
                    <li><a href="#"><i class="fa fa-home"></i><span>é¦–é¡µ</span></a></li>
                    <li><a href="#"><i class="fa fa-user"></i><span>ç”¨æˆ·ç®¡ç†</span></a></li>
                    <li><a href="#"><i class="fa fa-cog"></i><span>ç³»ç»Ÿè®¾ç½®</span></a></li>
                    <li><a href="#"><i class="fa fa-chart-bar"></i><span>æ•°æ®ç»Ÿè®¡</span></a></li>
                    <li><a href="#"><i class="fa fa-file"></i><span>æ–‡æ¡£ç®¡ç†</span></a></li>
                    <li><a href="#"><i class="fa fa-envelope"></i><span>æ¶ˆæ¯ä¸­å¿ƒ</span></a></li>
                    <li><a href="#"><i class="fa fa-question-circle"></i><span>å¸®åŠ©ä¸­å¿ƒ</span></a></li>
                    <li><a href="#"><i class="fa fa-info-circle"></i><span>å…³äºæˆ‘ä»¬</span></a></li>
                </ul>
            </div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <div class="test-content">
                <h1>ç§»åŠ¨ç«¯ä¾§è¾¹æ äº¤äº’æµ‹è¯•</h1>
                
                <div class="status-panel">
                    <h3>ğŸ“± å½“å‰çŠ¶æ€</h3>
                    <p><strong>çª—å£å®½åº¦:</strong> <span id="window-width">-</span>px</p>
                    <p><strong>æ˜¯å¦ç§»åŠ¨è§†å›¾:</strong> <span id="is-mobile">-</span></p>
                    <p><strong>ä¾§è¾¹æ çŠ¶æ€:</strong> <span id="sidebar-status">-</span></p>
                    <p><strong>èƒŒæ™¯é®ç½©çŠ¶æ€:</strong> <span id="backdrop-status">-</span></p>
                </div>

                <div class="test-buttons">
                    <h3>ğŸ§ª æµ‹è¯•åŠŸèƒ½</h3>
                    <button class="test-btn" onclick="window.testMobileMenu()">æ£€æŸ¥çŠ¶æ€</button>
                    <button class="test-btn" onclick="window.toggleMobileMenu()">æ‰‹åŠ¨åˆ‡æ¢</button>
                    <button class="test-btn" onclick="window.closeMobileMenu()">å¼ºåˆ¶å…³é—­</button>
                </div>

                <div class="status-panel">
                    <h3>âœ… æµ‹è¯•æ¸…å•</h3>
                    <p>è¯·åœ¨ç§»åŠ¨è§†å›¾ï¼ˆå®½åº¦ &lt; 768pxï¼‰ä¸­éªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
                    <ul>
                        <li>é¡µé¢åŠ è½½æ—¶ä¾§è¾¹æ åº”è¯¥æ˜¯éšè—çš„ï¼ˆä¸é®æŒ¡ä¸»å†…å®¹ï¼‰</li>
                        <li>ç‚¹å‡»æ±‰å ¡èœå•å›¾æ ‡ï¼ˆâ˜°ï¼‰åº”è¯¥èƒ½å±•å¼€ä¾§è¾¹æ </li>
                        <li>å†æ¬¡ç‚¹å‡»æ±‰å ¡èœå•åº”è¯¥èƒ½æ”¶èµ·ä¾§è¾¹æ </li>
                        <li>ç‚¹å‡»èƒŒæ™¯é®ç½©åº”è¯¥èƒ½å…³é—­ä¾§è¾¹æ </li>
                        <li>ç‚¹å‡»èœå•é¡¹åº”è¯¥èƒ½å…³é—­ä¾§è¾¹æ </li>
                        <li>ä¾§è¾¹æ åº”è¯¥æœ‰å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ</li>
                    </ul>
                </div>

                <div id="debug-output" class="debug-info">
                    è°ƒè¯•ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
                </div>

                <div class="status-panel">
                    <h3>ğŸ“ æµ‹è¯•å†…å®¹</h3>
                    <p>è¿™æ˜¯ä¸»è¦å†…å®¹åŒºåŸŸã€‚åœ¨ç§»åŠ¨ç«¯ï¼Œå½“ä¾§è¾¹æ éšè—æ—¶ï¼Œè¿™äº›å†…å®¹åº”è¯¥å®Œå…¨å¯è§ï¼Œä¸è¢«é®æŒ¡ã€‚</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="static/js/nav.js"></script>
    <script>
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatus() {
            const width = window.innerWidth;
            const isMobile = width < 768;
            const sidebar = document.querySelector('.sidebar-menu');
            const backdrop = document.querySelector('.mobile-menu-backdrop');
            
            document.getElementById('window-width').textContent = width;
            document.getElementById('is-mobile').textContent = isMobile ? 'æ˜¯' : 'å¦';
            
            if (sidebar) {
                const isVisible = sidebar.classList.contains('mobile-is-visible');
                document.getElementById('sidebar-status').textContent = isVisible ? 'æ˜¾ç¤º' : 'éšè—';
            }
            
            if (backdrop) {
                const isVisible = backdrop.classList.contains('visible');
                document.getElementById('backdrop-status').textContent = isVisible ? 'æ˜¾ç¤º' : 'éšè—';
            }
        }
        
        // é‡å†™æµ‹è¯•å‡½æ•°ä»¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
        window.testMobileMenu = function() {
            const output = document.getElementById('debug-output');
            let info = '=== ç§»åŠ¨ç«¯èœå•æµ‹è¯• ===\n';
            info += `çª—å£å®½åº¦: ${window.innerWidth}px\n`;
            info += `æ˜¯å¦ç§»åŠ¨è§†å›¾: ${window.innerWidth < 768}\n`;
            
            const sidebar = document.querySelector('.sidebar-menu');
            const hamburger = document.querySelector('a[data-toggle="mobile-menu"]');
            const backdrop = document.querySelector('.mobile-menu-backdrop');
            
            if (sidebar) {
                info += `ä¾§è¾¹æ ç±»å: ${sidebar.className}\n`;
                info += `ä¾§è¾¹æ å¯è§: ${sidebar.classList.contains('mobile-is-visible')}\n`;
                info += `ä¾§è¾¹æ transform: ${getComputedStyle(sidebar).transform}\n`;
            }
            
            if (hamburger) {
                const display = getComputedStyle(hamburger.parentElement).display;
                info += `æ±‰å ¡èœå•æŒ‰é’®æ˜¾ç¤º: ${display !== 'none'}\n`;
            }
            
            if (backdrop) {
                info += `èƒŒæ™¯é®ç½©å¯è§: ${backdrop.classList.contains('visible')}\n`;
            }
            
            info += '=== æµ‹è¯•å®Œæˆ ===';
            output.textContent = info;
            console.log(info);
        };
        
        // å®šæœŸæ›´æ–°çŠ¶æ€
        setInterval(updateStatus, 1000);
        updateStatus();
        
        // çª—å£å¤§å°æ”¹å˜æ—¶æ›´æ–°
        window.addEventListener('resize', updateStatus);
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œä¸€æ¬¡æµ‹è¯•
        setTimeout(() => {
            window.testMobileMenu();
        }, 1000);
    </script>
</body>
</html>
